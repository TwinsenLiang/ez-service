# 安全政策

## 支持的版本

当前支持安全更新的版本：

| 版本 | 支持状态 |
| ------- | ------------------ |
| 1.0.x   | :white_check_mark: |

## 报告漏洞

如果你发现了安全漏洞，请**不要**公开提 Issue！

### 报告流程

1. **私下联系**: 通过 GitHub Security Advisory 报告
2. **详细描述**: 包含漏洞的详细信息和复现步骤
3. **等待回复**: 我们会在 48 小时内回复

### 我们的承诺

- 🕐 **48小时内响应**
- 🔒 **保密处理**：在修复前不会公开漏洞详情
- 🎖️ **致谢名单**：修复后会在 CHANGELOG 中致谢（如果你愿意）

## 安全最佳实践

### 使用 EZ-Service 时的安全建议

1. **不要在脚本中硬编码敏感信息**
   - ❌ 不要: `START_CMD="python app.py --password=123456"`
   - ✅ 推荐: 使用环境变量或配置文件

2. **注意日志文件权限**
   - 日志文件可能包含敏感信息
   - 建议: `chmod 600 logs/*.log`

3. **定期审查进程**
   - 定期运行 `./service.sh status` 检查服务状态
   - 使用 `./service.sh cleanup` 清理异常进程

4. **限制脚本执行权限**
   - `chmod 700 service.sh` （仅所有者可执行）
   - 不要以 root 用户运行服务（除非必要）

5. **保护 PID 文件**
   - PID 文件包含进程信息
   - 确保文件权限合适

## 已知的安全考虑

### 命令执行

- `service.sh` 会执行 `START_CMD` 中定义的命令
- **风险**: 如果 `START_CMD` 包含不可信的输入，可能导致命令注入
- **缓解**: 只在配置文件中使用可信的命令，不要从用户输入构造启动命令

### 端口绑定

- 服务会绑定到配置的端口
- **风险**: 暴露在网络上可能被攻击
- **缓解**:
  - 使用防火墙限制访问
  - 仅在必要时绑定 0.0.0.0
  - 优先使用 127.0.0.1（本地访问）

### 进程管理

- `cleanup` 命令会强制终止进程 (kill -9)
- **风险**: 可能终止错误的进程
- **缓解**:
  - 使用前检查 PID 文件内容
  - 使用 `status` 确认进程信息

## 安全审计

### 代码审查

我们对代码进行了以下安全审查：

- ✅ 无硬编码的敏感信息
- ✅ 无SQL注入风险（不涉及数据库）
- ✅ 无命令注入风险（命令在配置文件中定义）
- ✅ 无XSS风险（纯Shell脚本）
- ✅ 文件权限正确处理
- ✅ 进程信号正确处理
- ✅ 无外部网络请求
- ✅ 无数据收集或遥测

### 隐私审计

- ✅ 不收集任何用户数据
- ✅ 不发送任何遥测信息
- ✅ 日志仅存储在本地
- ✅ 不包含任何跟踪代码

## 更新和补丁

安全更新会通过以下方式发布：

1. GitHub Release
2. Git Tag
3. CHANGELOG.md 中标注

请及时更新到最新版本以获得安全修复！

## 联系我们

- GitHub Issues: 一般问题和功能请求
- Security Advisory: 安全漏洞报告（私密）

感谢你帮助让 EZ-Service 更安全！🔒
